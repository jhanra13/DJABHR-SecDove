Input Validation:
Attackers can put any conversation id they want, without validation.
What they CAN do: Store arbitrary strings (including SQL-like syntax) as conversation IDs in the database.
What they CANNOT do: Execute those strings as SQL code to extract, modify, or delete data.

#### Description
Many endpoints accept user input without proper validation or sanitization:

1. **Message Content:** No length limits or content validation
2. **Conversation IDs:** Integer validation missing
3. **Encrypted Key Data:** No format validation
4. **JSON Parsing:** No schema validation

#### Examples
```javascript
// server/routes/messages.js - No content validation
router.post('/', authenticateToken, async (req, res) => {
  const { conversation_id, content_key_number, encrypted_msg_content } = req.body;
  // No validation of content length, format, or structure
});

// server/routes/conversations.js - No validation of array elements
router.post('/', authenticateToken, async (req, res) => {
  const { conversation_entries } = req.body;
  // Minimal validation of array structure
});
```

#### Impact
- Buffer overflow attacks
- DoS through large payloads
- Type confusion vulnerabilities
- Business logic bypasses
- Database corruption

#### Remediation
- Implement comprehensive input validation using libraries like Joi or Yup
- Enforce maximum field lengths
- Validate data types and formats
- Sanitize all inputs before database operations
- Use JSON schema validation

---

Username Enumeration:
Attackers can check what usernames exist in the system via the /api/auth/check-username endpoint

possibly implement a freind request system.

---

Rate Limiting:
#### Issues
1. **IP-based only:** Easy to bypass using proxies or VPNs
2. **No account-level limiting:** Same account can be attacked from multiple IPs
3. **Too permissive:** 100 API requests per 15 minutes is high for most users
4. **No exponential backoff:** Failed attempts don't increase lockout time
5. **Missing endpoints:** Message sending, contact addition not rate limited

#### Impact
- Brute force attacks on authentication
- Account lockout DoS attacks
- API abuse and resource exhaustion
- Spam message flooding
- Distributed attacks bypass IP-based limits

#### Remediation
- Implement account-level rate limiting
- Add progressive delays after failed attempts
- Rate limit all sensitive endpoints (messages, conversations, contacts)
- Use CAPTCHA after repeated failures
- Implement distributed rate limiting (Redis)
- Add fingerprinting techniques beyond IP
